"use strict";AFRAME.registerComponent("dynamic-fov-reduction",{schema:{camera:{type:"selector",default:"[camera]"},fovFilterFadeInButtons:{default:["fovfilterstart","trackpadtouchstart"]},fovFilterFadeOutButtons:{default:["fovfilterend","trackpadtouchend"]},strength:{type:"number",default:1},strength_1_value:{type:"number",default:-.16},strength_2_value:{type:"number",default:-.2},strength_3_value:{type:"number",default:-.24}},init:function(){var a=this.el,t=this.data,e=document.createElement("a-image");e.setAttribute("id","fov-filter"),e.setAttribute("src","assets/vignette.png"),e.setAttribute("animation",{property:"material.opacity",from:1,to:0,dur:250,easing:"linear"}),1===t.strength?e.object3D.position.z=t.strength_1_value:2===t.strength?e.object3D.position.z=t.strength_2_value:3===t.strength?e.object3D.position.z=t.strength_3_value:(e.object3D.position.z=0,console.log("ERROR: The only accepted strength property values are 1, 2, or 3")),t.camera.appendChild(e),a.addEventListener("axismove",function(t){var e=a.components["tracked-controls"].axis[0],n=a.components["tracked-controls"].axis[1],o=AFRAME.utils.device.isOculusBrowser(),r=a.getAttribute("laser-controls").hand;.1<e||e<-.1||.1<n||n<-.1?(!o&&"left"===r||o&&"right"===r)&&a.emit("fovfilterstart"):(e<.1||-.1<e||n<.1||-.1<n)&&(!o&&"left"===r||o&&"right"===r)&&a.emit("fovfilterend")}),t.fovFilterFadeInButtons.forEach(function(t){a.addEventListener(t,function(t){console.log("oiuiu"),e.setAttribute("animation",{from:0,to:1})})}),t.fovFilterFadeOutButtons.forEach(function(t){a.addEventListener(t,function(){e.setAttribute("animation",{from:1,to:0})})})}});
