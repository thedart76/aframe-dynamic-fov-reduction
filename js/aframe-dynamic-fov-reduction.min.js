AFRAME.registerComponent("dynamic-fov-reduction",{schema:{strength:{type:"number",default:1},speed:{type:"number",default:.2}},init:function(){var t=this.el,e=this.data;t.setAttribute("movement-controls",{speed:e.speed,controls:"gamepad"});var n=document.createElement("a-entity");n.setAttribute("progressive-controls",""),t.appendChild(n);var r=document.createElement("a-camera");r.setAttribute("id","cam"),r.setAttribute("wasd-controls-enabled",!1),n.appendChild(r);var a=document.createElement("a-image");a.setAttribute("src","assets/vignette.png"),a.setAttribute("id","fov-filter"),a.setAttribute("material","opacity",0),1===e.strength?a.object3D.position.z=-.17:2===e.strength?a.object3D.position.z=-.21:3===e.strength?a.object3D.position.z=-.24:(a.object3D.position.z=0,console.log("ERROR: The only accepted strength property values are 1, 2, or 3")),r.appendChild(a),t.addEventListener("trackpadtouchstart",function(){a.setAttribute("animation",{property:"material.opacity",from:0,to:1,dur:250,easing:"linear"})}),t.addEventListener("trackpadtouchend",function(){a.setAttribute("animation",{to:0})})}});